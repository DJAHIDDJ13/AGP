<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
      
      
    <h:head>
        <title>Offers Page</title>
         <h:outputStylesheet library="css" name="style.css"/>
          <style>
          	.navbar{
				height: 100px
			}
			.navbar .links li a {
			    color: black;
			}
			.container .brand{
				color: black;
			}	
			ul {
			    list-style: square;
			}

          </style>
    </h:head>
    <h:body>
 

 	<ui:insert name="header" >
		  <ui:include src="/navbar.xhtml" />
		</ui:insert>

	<div class="trip">
		<div class="container">
			<fieldset class="field">
				<h:panelGroup>
					<legend>Veuillez saisir vos  critères de voyage:</legend>
					<h:form>
					 		<h:outputLabel class="text" for="hotelName"> Nom d'hotel</h:outputLabel>
					        <h:inputText  id="hotelName" class="champ" value="#{tripsBean.hotelName}" />  <br/>        
					        
					 		<h:outputLabel class="text" for="density">Densité:</h:outputLabel>
					        <h:inputText  id="density" class="champ" value="#{tripsBean.density}" />  <br/>
					        
					    
					 		<h:outputLabel class="text" for="maxPrice">Maximum Prix:</h:outputLabel>
					        <h:inputText  id="maxPrice" class="champ" value="#{tripsBean.maximumPrice}" />  <br/>
			
					 		<h:outputLabel class="text" for="daysCount">Nombre de jours : </h:outputLabel>
					        <h:inputText  id="daysCount" class="champ" value="#{tripsBean.daysCount}" />  <br/>		
					        <br/> <br />
					     
					        <h:commandLink class="action-button" action="#{tripsBean.fetchOffers}"  value="Trouver l'hotel"/> 
					        					        
					</h:form>			
					</h:panelGroup>
			</fieldset>
		</div>
	</div> 

 
 		<h:panelGroup rendered="#{tripsBean.trips == null}" >
 		     	<h2> Malheureusement , Aucun offre trouvée ! merci de modifier vos critères </h2>
 		</h:panelGroup>
     	 <div class="container">
		          <h:panelGroup rendered="#{tripsBean.trips != null }" >
		          			<h2>Les offres suggérées</h2>
							<h:panelGroup> 
								 <hr/>
						     	<ui:repeat var="trip" value="#{tripsBean.trips}" >
						     	<div>
						     	</div>
											  <li> Hotel  : #{trip.hotel.name}</li>   <br />
											  <li> Prix  : #{trip.price}</li>   <br />
											  <li> Nombre  de jours  : #{trip.daysCount}</li>   <br />
											  <li> Sites inclus  :</li>   <br />
											       		<ui:repeat var="excur" value="#{trip.excursion}" >  
											       				<ui:repeat var="site" value="#{excur.site}" >#{site.name}, </ui:repeat>
											       		</ui:repeat>
											       		<br />
										  <hr/>
								</ui:repeat>	  
						     	</h:panelGroup>	
				    </h:panelGroup>	   
	       </div>
    	 	   	 
<h:outputScript library="primefaces" name="jquery/jquery.js" target="head" />	
<h:outputScript name="js/script.js" />    </h:body>
</html>